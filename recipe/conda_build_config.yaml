# RC-phase: taking packages from conda-forge/label/llvm_rc
# automatically pulls in libcxx >=17, which requires macOS.
MACOSX_DEPLOYMENT_TARGET:   # [osx and x86_64]
  - "10.13"                 # [osx and x86_64]

c_compiler:          # [osx]
  - clang_bootstrap  # [osx]
cxx_compiler:        # [osx]
  - clang_bootstrap  # [osx]

# Starting from LLVM 14, the ABI of libclang doesn't necessarily
# match the major version anymore - cf. #170 and
# https://github.com/llvm/llvm-project/issues/54004
libclang_soversion:
  - 13

variant:
  - default
  - hcc   # [linux]

channel_targets:
  - conda-forge llvm_rc

channel_sources:
  - conda-forge/label/llvm_rc,conda-forge
